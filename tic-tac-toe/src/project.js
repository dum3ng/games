require=function e(t,o,c){function i(n,a){if(!o[n]){if(!t[n]){var s="function"==typeof require&&require;if(!a&&s)return s(n,!0);if(r)return r(n,!0);var l=new Error("Cannot find module '"+n+"'");throw l.code="MODULE_NOT_FOUND",l}var u=o[n]={exports:{}};t[n][0].call(u.exports,function(e){var o=t[n][1][e];return i(o?o:e)},u,u.exports,e,t,o,c)}return o[n].exports}for(var r="function"==typeof require&&require,n=0;n<c.length;n++)i(c[n]);return i}({boot:[function(e,t,o){"use strict";cc._RF.push(t,"bcd90bfl11Gvr8n6EYHRMII","boot"),cc.Class({"extends":cc.Component,properties:{test:cc.Node},onLoad:function(){this.test.getChildByName("black").color=cc.Color.RED},startPlay:function(){cc.director.loadScene("play")},startTest:function(){cc.director.loadScene("test")}}),cc._RF.pop()},{}],gameController:[function(e,t,o){"use strict";cc._RF.push(t,"decedSgBoRNm7UQtMAiB/Bo","gameController"),cc.Class({"extends":cc.Component,properties:{board:cc.Node,piece:cc.Prefab,player:{"default":0,visible:!1},items:{"default":[],visible:!1},label:cc.Label,replay:cc.Button},onLoad:function(){this.gameState="playing",this.n=0,this.replay.active=!1;for(var e=0;e<3;e++){var t=[];this.items.push(t);for(var o=0;o<3;o++){var c=cc.instantiate(this.piece);this.board.addChild(c),c.x=100*e,c.y=100*o;var i=c.getComponent("item");i.x=e,i.y=o,c.on(cc.Node.EventType.MOUSE_DOWN,this.click.bind(this)),t.push(i)}}this.board.color=cc.Color.RED},reset:function(){this.replay.active=!1,this.items.forEach(function(e){e.forEach(function(e){e.setValue(-1)})},this),this.gameState="playing",this.n=0,this.label.string="playing"},click:function(e){if("playing"===this.gameState){console.log("clicked");var t=e.target.getComponent("item");if(t.isSet())return;this.n+=1,t.setValue(this.player);var o=this.check(t.x,t.y,this.player);console.log("check result: ",o),o!==-1?(this.gameState=o,this.replay.active=!0,this.label.string="player "+(this.player?1:0)+" win!"):9===this.n&&(this.gameState="tie",this.label.string="tie!",this.replay.active=!0),this.player=0===this.player?1:0}},check:function(e,t,o){this.logValues();for(var c=!0,i=0;i<3;i++)if(this.items[i][t].value!==o){c=!1;break}for(var r=!0,n=0;n<3;n++)if(this.items[e][n].value!==o){r=!1;break}var a=!0,s=!0;if(e===t||e+t===2){for(var l=0;l<3;l++)if(this.items[l][l].value!==o){a=!1;break}for(var u=0;u<3;u++)if(this.items[u][2-u].value!==o){s=!1;break}}else a=!1,s=!1;console.log(c,r,a,s);var h=c||r||a||s;return h?o:-1},logValues:function(){for(var e=0;e<3;e++)console.log(this.items[e][0].value+", "+this.items[e][1].value+", "+this.items[e][2].value)},goback:function(){cc.director.loadScene("boot")}}),cc._RF.pop()},{}],item:[function(e,t,o){"use strict";cc._RF.push(t,"ffe41cYf4xOWo5Y/+NuyX3d","item"),cc.Class({"extends":cc.Component,properties:{value:{"default":-1}},onLoad:function(){this.content=this.node.getChildByName("content"),this.setValue(-1)},isSet:function(){return this.value!==-1},reset:function(){this.setValue(-1)},setValue:function(e){return this.value=e,console.log(this.content.color),1===this.value?void(this.content.color=cc.Color.RED):0===this.value?void(this.content.color=cc.Color.BLUE):void(this.content.color=cc.Color.GRAY)}}),cc._RF.pop()},{}],myclass:[function(e,t,o){"use strict";cc._RF.push(t,"592f1BkOEFMj4IiXc/673kM","myclass"),Object.defineProperty(o,"__esModule",{value:!0});var c=cc._decorator,i=c.ccclass,r=c.property,n=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.text="hello",t}return __extends(t,e),t.prototype.onLoad=function(){this.ball.getComponent(cc.RigidBody);console.log("init");var e=(cc.PhysicsManager.DrawBits,cc.director.getPhysicsManager());cc.director.getCollisionManager().enabled=!0,console.log(cc.director.getCollisionManager()),e.enabled=!0},t.prototype.onCollisionEnter=function(e,t){console.log("collision...")},t.prototype.goBack=function(){cc.director.loadScene("boot")},t}(cc.Component);__decorate([r(cc.Label)],n.prototype,"label",void 0),__decorate([r({"default":"hello"})],n.prototype,"text",void 0),__decorate([r(cc.Node)],n.prototype,"ball",void 0),n=__decorate([i],n),o["default"]=n,cc._RF.pop()},{}]},{},["boot","gameController","item","myclass"]);